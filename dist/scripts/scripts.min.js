function Area15Slider(e){var n,i=this;this.index=1,n={name:"Area 15 Slider",slide:$(".slide"),getNextPosition:function(){return $(i.slide[i.index-1]).position()},getCurrentSlide:function(){return $(i.slide[i.index-1])},container:$(".slider-container"),navControl:$(".nav-control"),hasProgress:!1,slideTime:1.25},$.extend(!0,n,e),this.name=n.name,this.slide=n.slide,this.current=$(i.slide[0]),this.slides=n.slide.length,this.container=n.container,this.navControl=n.navControl,this.slideTime=n.slideTime,n.hasProgress&&(i.progress={percentage:0,updateProgress:function(){$(".nav-progress-number").html(slider.progress.percentage+"%")}}),this.endpointReset=function(){TweenMax.to(i.container,.35,{x:0,ease:Power1.easeOut})},this.init=function(){this.moveSlide()},this.moveSlide=function(){i.navControl.on("click",function(e){var o,t,a,s,r,l=i.container;if(n.hasProgress&&(a=i.progress.percentage,s=$(".nav-progress-indicator-container"),r=$(".nav-progress-indicator")),$(this).hasClass("nav-previous")){if(1==i.index)return TweenMax.to(l,.35,{x:"+=75px",ease:Power2.easeIn,onComplete:i.endpointReset});i.index=i.index-1,o=n.getNextPosition(),t=1*o.left,n.hasProgress&&(a=(i.index-1)/(i.slides-1)*100)}else{if(i.index==i.slides)return TweenMax.to(l,.35,{x:"-=75px",ease:Power2.easeIn,onComplete:i.endpointReset});i.index=i.index+1,o=n.getNextPosition(),t=1*o.left,n.hasProgress&&(a=(i.index-1)/(i.slides-1)*100)}n.hasProgress&&TweenMax.to(s,1.1,{x:a+"%",ease:Back.easeOut.config(1)}),i.current=n.getCurrentSlide(),TweenMax.to(l,i.slideTime,{scrollTo:{x:t},ease:Power1.easeOut,force3D:!0,immediateRender:!0}),$(window).resize(function(e){o=n.getNextPosition(),t=1*o.left,TweenMax.set(l,{scrollTo:{x:t},ease:Power1.easeOut})})})},this.loadNextScene=""}function FifteenFourVideoPlayer(e){var n,i=this;n={name:"Area 15 Video Player",container:$(".MMVP-video")},$.extend(!0,n,e),this.name=n.name,this.container=n.container,this.video="",this.isUserActive="",this.init=function(){i.container.find("video").removeAttr("controls"),i.video=modal.current.find("video")[0],i.isUserActive=!0,i.playPause.init(),i.progress.init(),i.volume.init(),i.contextMenu(),i.autoHideControls.init(),i.keyboardShortcuts.init(),(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)&&i.fullscreen.init()},this.playPause={playVideo:"",pauseVideo:"",init:function(){i.container.find(".MMVP-video-controls-play-pause").on("click",function(){i.video.paused?i.video.play():i.video.pause()}),modal.videoPlayer.playPause.playVideo=function(){i.container.find(".MMVP-video-controls-play-pause").addClass("MMVP-play-controls-play-pause-pause-state"),i.autoHideControls.changeUserActivity(),i.autoHideControls.setActivityCheck()},modal.videoPlayer.playPause.pauseVideo=function(){i.container.find(".MMVP-video-controls-play-pause").removeClass("MMVP-play-controls-play-pause-pause-state"),window.clearInterval(i.autoHideControls.activityCheck),window.clearTimeout(i.autoHideControls.inactivityTimeout),i.container.find(".modal-video-inner-container").removeClass("MMVP-inactive")},i.video.addEventListener("play",i.playPause.playVideo,!1),i.video.addEventListener("pause",i.playPause.pauseVideo,!1)}},this.progress={updateProgressIndicator:"",updateProgressBar:"",updateProgress:"",init:function(){function e(e){0>e?e=0:e>100&&(e=100);var n=modal.videoPlayer.video.duration*(e/100);i.video.currentTime=n,i.progress.updateProgress()}var n=i.video.duration;Number.prototype.toHHMMSS=function(){var e,n=this,i=Math.floor(n/3600),o=Math.floor((n-3600*i)/60),t=Math.floor(n-3600*i-60*o);return 10>i&&(i="0"+i),10>o&&(o="0"+o),10>t&&(t="0"+t),e=i>0?i+":"+o+":"+t:o+":"+t},i.progress.updateProgressIndicator=function(){i.container.find(".MMVP-video-progress-indicator").html('<span class="MMVP-video-current-time">'+modal.videoPlayer.video.currentTime.toHHMMSS()+"</span> / "+n.toHHMMSS())},i.progress.updateProgressBar=function(){var e=i.video.currentTime/n*100;e>100?e=100:0>e&&(e=0),i.container.find(".MMVP-video-progress-bar").css("width",e+"%")},i.progress.updateProgress=function(){i.progress.updateProgressIndicator(),i.progress.updateProgressBar()},i.video.addEventListener("timeupdate",i.progress.updateProgress,!1),i.container.find(".MMVP-video-progress-bar-interaction").on("mousedown",function(n){var o=i.container.find(".MMVP-video-progress-bar-container").offset(),t=i.container.find(".MMVP-video-progress-bar-container").width(),a=(n.pageX-o.left)/t*100;e(a)}),i.container.find(".MMVP-video-progress-grabber-interaction").on("mousedown",function(n){n.stopPropagation(),n.preventDefault();var o=!0;i.video.paused||(i.video.pause(),o=!1),i.container.find(".MMVP-video-progress-bar").css("transition","0s");var t=i.container.find(".MMVP-video-progress-bar-container").offset(),a=n.pageX-t.left,s=i.container.find(".MMVP-video-progress-bar-container").width(),r=a/s*100;e(r),$(window).on("mousemove",function(n){n.preventDefault(),a=n.pageX-t.left,r=a/s*100,e(r)}),$(window).on("mouseup",function(){$(window).off("mousemove"),i.container.find(".MMVP-video-progress-bar").css("transition",""),o||i.video.play()})}),i.progress.updateProgress()}},this.volume={checkVolume:function(e){var n=i.container.find(".MMVP-video-controls-volume");return e>0?(e>100&&(e=100),i.video.muted&&(i.video.muted=!1,n.removeClass("MMVP-video-controls-volume-muted")),e>=66&&n.removeClass("MMVP-video-controls-volume-muted MMVP-video-controls-volume-quiet MMVP-video-controls-volume-normal"),e>=33&&66>e&&!n.hasClass("MMVP-video-controls-volume-normal")&&(n.removeClass("MMVP-video-controls-volume-muted MMVP-video-controls-volume-quiet MMVP-video-controls-volume-normal"),n.addClass("MMVP-video-controls-volume-normal")),33>e&&e>0&&!n.hasClass("MMVP-video-controls-volume-quiet")&&(n.removeClass("MMVP-video-controls-volume-muted MMVP-video-controls-volume-normal"),n.addClass("MMVP-video-controls-volume-quiet"))):0>=e&&(e=0,i.video.muted=!0,n.addClass("MMVP-video-controls-volume-muted")),e},changeVolumeSlider:function(e){var n=i.container.find(".MMVP-volume-slider-container").height(),o=(100-e)/100*n,t=i.volume.checkVolume(e);i.container.find(".MMVP-volume-slider-grabber-interaction").css("top",o),i.video.volume=t/100},init:function(){function e(){$(window).on("mousemove.volumeMousemove",function(e){e.preventDefault();var n=i.container.find(".MMVP-volume-slider-container").offset(),o=e.pageY-n.top,t=i.container.find(".MMVP-volume-slider-container").height();if(o>-1&&t>o){var a=Math.floor(99-o/t*100);i.volume.changeVolumeSlider(a)}}),$(window).on("mouseup.volumeMouseup",function(){$(window).off("mousemove.volumeMousemove"),$(window).off("mouseup.volumeMouseup")})}i.container.find(".MMVP-video-controls-volume").on("mousedown",function(){var e=i.video.volume;i.video.muted?i.video.muted&&0===i.video.volume?i.volume.changeVolumeSlider(50):(i.volume.checkVolume(100*e),i.video.volume=e):i.volume.checkVolume(0)}),i.container.find(".MMVP-volume-slider-box").on("mousedown",function(n){n.preventDefault();var o=i.container.find(".MMVP-volume-slider-container").offset(),t=n.pageY-o.top,a=i.container.find(".MMVP-volume-slider-container").height();if(t>-1&&a>t){var s=Math.floor(99-t/a*100);i.volume.changeVolumeSlider(s,!1)}else-1>=t?i.volume.changeVolumeSlider(100):t>=a&&i.volume.changeVolumeSlider(0);e()}),i.container.find(".MMVP-video-controls").on({mouseenter:function(e){window.clearInterval(i.autoHideControls.activityCheck),window.clearTimeout(i.autoHideControls.inactivityTimeout)},mousemove:function(e){i.autoHideControls.inactivityTimeout&&(window.clearInterval(i.autoHideControls.activityCheck),window.clearTimeout(i.autoHideControls.inactivityTimeout),i.autoHideControls.inactivityTimeout=!1)},mouseleave:function(e){i.video.paused||i.autoHideControls.setActivityCheck()}})}},this.fullscreen={fullscreenChange:"",init:function(){var e=i.container.find(".modal-video-inner-container")[0];i.container.find(".MMVP-video-controls-fullscreen-toggle").on("click",function(){null===document.fullscreenElement||null===document.webkitFullscreenElement||null===document.mozFullScreenElement||null===document.msFullscreenElement?e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen():document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}),i.fullscreen.fullscreenChange=function(){null===document.fullscreenElement||null===document.webkitFullscreenElement||null===document.mozFullScreenElement||null===document.msFullscreenElement?i.container.find(".MMVP-video-controls-fullscreen-toggle").removeClass("MMVP-fullscreen-toggle-fullscreen-state"):i.container.find(".MMVP-video-controls-fullscreen-toggle").addClass("MMVP-fullscreen-toggle-fullscreen-state")},document.addEventListener("fullscreenchange",i.fullscreen.fullscreenChange),document.addEventListener("webkitfullscreenchange",i.fullscreen.fullscreenChange),document.addEventListener("mozfullscreenchange",i.fullscreen.fullscreenChange),document.addEventListener("MSFullscreenChange",i.fullscreen.fullscreenChange)}},this.contextMenu=function(){var e=i.video;e.addEventListener("contextmenu",function(e){e.preventDefault()},!1)},this.autoHideControls={userActivity:"",changeUserActivity:"",activityCheck:"",inactivityTimeout:"",setActivityCheck:function(){var e=i.container.find(".modal-video-inner-container");i.autoHideControls.activityCheck=window.setInterval(function(){i.autoHideControls.userActivity&&(i.autoHideControls.userActivity=!1,i.isUserActive||(i.isUserActive=!0,e.removeClass("MMVP-inactive")),i.autoHideControls.inactivityTimeout&&window.clearTimeout(i.autoHideControls.inactivityTimeout),i.autoHideControls.inactivityTimeout=window.setTimeout(function(){i.autoHideControls.userActivity||(i.isUserActive=!1,e.addClass("MMVP-inactive"))},5e3))},250)},init:function(){i.autoHideControls.changeUserActivity=function(){i.autoHideControls.userActivity||(i.autoHideControls.userActivity=!0)},i.video.addEventListener("mousemove",i.autoHideControls.changeUserActivity)}},this.keyboardShortcuts={processKeyboardShortcuts:function(e){switch(e.preventDefault(),e.which){case 32:i.video.paused?i.video.play():i.video.pause();break;case 77:i.video.muted?(i.video.muted=!1,i.container.find(".MMVP-video-controls-volume").removeClass("MMVP-video-controls-volume-muted")):(i.video.muted=!0,i.container.find(".MMVP-video-controls-volume").addClass("MMVP-video-controls-volume-muted"))}i.autoHideControls.changeUserActivity()},init:function(){$(document).on("keydown",i.keyboardShortcuts.processKeyboardShortcuts)}},this.reset=function(){i.video&&(i.video.pause(),i.container.find(".MMVP-video-progress-grabber-interaction").off("mousedown"),i.container.find(".MMVP-video-progress-bar-interaction").off("mousedown"),i.container.find(".MMVP-volume-slider-box").off("mousedown"),i.container.find(".MMVP-video-controls").off("mouseenter mousemove mouseleave"),i.container.find(".MMVP-video-controls-volume").off("click"),i.container.find(".MMVP-video-controls-play-pause").off("click"),i.container.find(".MMVP-video-controls-fullscreen-toggle").off("click"),i.video.removeEventListener("play",i.playPause.playVideo),i.video.removeEventListener("pause",i.playPause.pauseVideo),i.video.removeEventListener("timeupdate",i.progress.updateProgress),i.video.removeEventListener("mousemove",i.autoHideControls.timer),window.clearInterval(i.autoHideControls.activityCheck),document.removeEventListener("fullscreenchange",i.fullscreen.fullscreenChange),document.removeEventListener("webkitfullscreenchange",i.fullscreen.fullscreenChange),document.removeEventListener("mozfullscreenchange",i.fullscreen.fullscreenChange),document.removeEventListener("MSFullscreenChange",i.fullscreen.fullscreenChange),$(document).off("keydown",i.keyboardShortcuts.processKeyboardShortcuts))}}var slider=new Area15Slider({name:"Main Slider",hasProgress:!0}),modal={current:"",init:function(){modal.loadModels.init();var e=new Area15Slider({name:"Modal Slider",navControl:$(".modal-nav-control"),slideTime:.8});modal.slider=e,modal.slider.init(),$(".js-modal").on("click",function(n){if(n.preventDefault(),modal.current=$($(this).data("target")),e.slide=modal.current.find(".modal-slide"),e.slides=e.slide.length,e.current=$(e.slide[e.index-1]),e.container=modal.current.find(".modal-slide-container"),e.navControl=modal.current.find(".modal-nav-control"),modal.slider.slides>1&&modal.current.find(".modal-nav-control").css("display","inline"),modal.current.find(".MMVP-video").length){var i=new FifteenFourVideoPlayer({name:"Modal Video Player"});modal.videoPlayer=i,modal.videoPlayer.container=modal.current.find(".MMVP-video"),modal.videoPlayer.init()}modal.current.find(".modal-model-container").length&&(modal.slider.loadNextScene={scene:"",controls:"",currentModelPath:"",currentModelCameraPosition:"",currentModelPosition:"",init:function(){function e(){function e(e){for(var n in e)e[n]=Number(e[n]);return e}function i(){modal.slider.canvas.find(".webgl-rendering-indicator").removeClass("loading-in-progress"),modal.slider.canvas.find(".webgl-rendering-indicator").addClass("loading-done")}var s="",r=e(modal.slider.loadNextScene.currentModelPosition),l=e(modal.slider.loadNextScene.currentModelCameraPosition);$(".modal-model-container").each(function(e){return $(this).is(modal.slider.canvas)?void(s=e):void 0});var d=modal.loadModels.models[s].mesh,u=modal.loadModels.models[s].edges;t.add(d),t.add(u),d.position.set(r[0],r[1],r[2]),u.position.set(r[0],r[1],r[2]),v=(new THREE.Box3).setFromObject(d);var m=Math.max(v.max.x,v.max.y,v.max.z);c.minDistance=1.25*m,c.maxDistance=5*m,a.position.z=3*m,a.position.set(l[0],l[1],l[2]),a.lookAt(new THREE.Vector3(r[0],r[1],r[2])),TweenMax.to(o,1.5,{autoAlpha:1,ease:Power1.easeIn,delay:2,onComplete:i}),n()}function n(){t=modal.slider.loadNextScene.scene,c=modal.slider.loadNextScene.controls,null!==t&&(c.update(),i())}function i(){u.render(modal.slider.loadNextScene.scene,a)}modal.slider.canvas=modal.slider.current.find(".modal-model-container"),modal.slider.loadNextScene.currentModelPath=modal.slider.canvas.data("model-path"),modal.slider.loadNextScene.currentModelCameraPosition=modal.slider.canvas.data("camera-position").split(" "),modal.slider.loadNextScene.currentModelPosition=modal.slider.canvas.data("model-position").split(" ");var o,t,a,s,r,l,d,c,u,m,v;o=modal.slider.canvas.find("canvas"),modal.slider.loadNextScene.scene=new THREE.Scene,t=modal.slider.loadNextScene.scene,a=new THREE.PerspectiveCamera(45,modal.slider.canvas.width()/modal.slider.canvas.height(),.1,1e4),s=new THREE.HemisphereLight(16777147,526368,.5),t.add(s),r=new THREE.SpotLight(15792383),r.position.set(5,5,0),r.castShadow=!0,r.shadowMapWidth=1024,r.shadowMapHeight=1024,r.shadowCameraNear=500,r.shadowCameraFar=4e3,r.shadowCameraFov=30,r.intensity=5,t.add(r),l=r.clone(),l.position.set(0,6,2),l.intensity=1,t.add(l),d=r.clone(),d.position.set(-8,-2,-4),d.color.setHex(1447718),d.intensity=5,t.add(d),modal.slider.loadNextScene.controls=new THREE.OrbitControls(a,modal.slider.canvas[0]),c=modal.slider.loadNextScene.controls,c.addEventListener("change",i),m=new THREE.JSONLoader,u=new THREE.WebGLRenderer({alpha:!0,canvas:o[0],antialias:!0}),u.setSize(modal.slider.canvas.width(),modal.slider.canvas.height()),e(),$(window).on("resize.webGLResize",function(e){var n=modal.slider.canvas.width(),o=modal.slider.canvas.height();a.aspect=n/o,a.updateProjectionMatrix(),u.setSize(n,o),i()})}},e.loadNextScene.init&&modal.current.find(".modal-model-container").length&&e.loadNextScene.init()),modal.slider.reset=function(){modal.slider.loadNextScene&&(modal.slider.loadNextScene.controls.dispose(),modal.slider.loadNextScene.controls=null,modal.slider.loadNextScene.scene=null,$(window).off("resize.webGLResize")),modal.slider.index=1,modal.slider.current="",modal.slider.slides="",TweenMax.set(modal.current.find(".modal-slide-container"),{scrollTo:{x:0}})},modal.current.addClass("is-staged is-visible")}),$(".modal__box").on("click",function(e){e.stopPropagation()}),$(".js-close-modal").on("click",function(e){e.preventDefault(),modal.closeModal()})},closeModal:function(){modal.current.removeClass("is-visible"),window.setTimeout(function(){modal.current.removeClass("is-staged"),modal.slider.reset(),modal.videoPlayer&&modal.videoPlayer.reset()},250)},loadModels:{canvases:[],loaders:[],models:[],counter:0,init:function(){$(".modal-model-container").each(function(e){modal.loadModels.canvases[e]=$(this),modal.loadModels.loaders[e]=new THREE.JSONLoader;var n=$(this).data("model-path"),i=modal.loadModels.loaders[e],o=function(n,i){modal.loadModels.models[e]={};var o=new THREE.Mesh(n,new THREE.MeshPhongMaterial({color:"#101010",side:THREE.DoubleSide,emissive:"#000000",specular:"#111111",shininess:20,shading:THREE.SmoothShading,transparent:!0,opacity:.8})),t=new THREE.EdgesHelper(o,"rgb(200,200,200)");t.material.transparency=!0,t.material.opacity=.8,t.material.linewidth=.15,o.position.set(0,-1,0),o.scale.set(.1,.1,.1),modal.loadModels.models[e].mesh=o,modal.loadModels.models[e].edges=t};i.load(n,o),modal.loadModels.counter=modal.loadModels.counter++,modal.loadModels.counter==$(".modal-model-container").length})}}},uiActiveStates={current:"",activeState:"",rotateRight:"",flicker:$(".js-ui-flicker"),init:function(){$(".js-ui-interactive").hover(function(){uiActiveStates.current=$(this),uiActiveStates.activeState=uiActiveStates.current.find(".js-ui-active"),uiActiveStates.rotateRight=uiActiveStates.current.find(".js-ui-rotate-right"),TweenMax.to(uiActiveStates.activeState,.65,{autoAlpha:1}),TweenMax.to(uiActiveStates.rotateRight,.65,{rotation:45,ease:Power1.easeOut,force3D:!0})},function(){TweenMax.to(uiActiveStates.activeState,.65,{autoAlpha:0}),TweenMax.to(uiActiveStates.rotateRight,.65,{rotation:0,ease:Power1.easeOut,force3D:!0})}),uiActiveStates.animateFlicker()},animateFlicker:function(){uiActiveStates.flicker.each(function(e){var n=$(this),i=function(){var e=4*Math.random();TweenMax.to(n,e,{autoAlpha:1,yoyo:!0,repeat:1,onComplete:i})};i()})}},loadingScreen={init:function(){TweenMax.to(".loading-indicator, .area-15-logo",2,{opacity:1,onComplete:loadingScreen.runAnimationsOnce,delay:.5})},runAnimationsOnce:function(){TweenMax.to($(".slider-container"),1,{scrollTo:{x:3e3},force3D:!0,yoyo:!0,repeat:1,onComplete:loadingScreen.clearScreen})},clearScreen:function(){var e=$(".loading-screen");e.removeClass("is-visible"),window.setTimeout(function(){e.removeClass("is-staged"),e.addClass("is-hidden")},250)}},tooltips={current:"",title:"",init:function(){var e=$(".tooltip");$(".js-tooltip").on({mouseenter:function(n){tooltips.current=$(this),tooltips.title=tooltips.current.data("title"),$(".tooltip-text").html(tooltips.title),e.addClass("tooltip-reveal")},mousemove:function(n){var i=n.pageX,o=n.pageY;TweenMax.set(e,{x:i-15,y:o-20,force3D:!0})},mouseleave:function(n){e.removeClass("tooltip-reveal")}})}},magnifyingGlass={defaultGlassSize:200,maxGlassSize:400,minGlassSize:150,currentGlassSize:200,currentSpecimen:{image:"",offset:"",width:"",height:""},enlargedSpecimen:{image:"",width:"",height:""},isVisible:!1,init:function(){function e(e,n){var t=magnifyingGlass.currentSpecimen.image.offset(),a=(e-t.left)*(magnifyingGlass.enlargedSpecimen.width/magnifyingGlass.currentSpecimen.width*-1)+magnifyingGlass.maxGlassSize/2,s=(n-t.top)*(magnifyingGlass.enlargedSpecimen.height/magnifyingGlass.currentSpecimen.height*-1)+magnifyingGlass.maxGlassSize/2;TweenMax.set(i,{x:e-magnifyingGlass.maxGlassSize/2,y:n-magnifyingGlass.maxGlassSize/2,force3D:!0}),TweenMax.set(o,{backgroundPosition:a+"px "+s+"px"})}function n(){var e=magnifyingGlass.currentGlassSize/2,n=magnifyingGlass.currentGlassSize-magnifyingGlass.defaultGlassSize;TweenMax.to(a,.1,{attr:{r:e},overwrite:!0}),TweenMax.to(s,.1,{attr:{r:e+2},overwrite:!0}),TweenMax.to(r,.1,{attr:{r:e+8},overwrite:!0,delay:.01}),TweenMax.to(d,.1,{scale:magnifyingGlass.currentGlassSize/magnifyingGlass.defaultGlassSize,force3D:!0,overwrite:!0,delay:.01,transformOrigin:"left center"}),TweenMax.to(t,.1,{x:n/2,force3D:!0,overwrite:!0});var i="";0>n&&(i=n/-2),n>=0&&(i=45),n>=100&&(i=45-30*magnifyingGlass.maxGlassSize/magnifyingGlass.currentGlassSize),TweenMax.to(c,.1,{x:i,force3D:!0,overwrite:!0}),TweenMax.to([u,m],.1,{attr:{y1:-.05*n+40+"%",y2:100-(-.05*n+40)+"%"},overwrite:!0}),TweenMax.to(v,.1,{attr:{cy:-.11*(magnifyingGlass.currentGlassSize-magnifyingGlass.minGlassSize)+57.5+"%"},overwrite:!0})}var i=$(".magnifying-glass"),o=i.find(".magnifying-glass-image"),t=(i.find(".magnifying-glass-border"),i.find(".magnifying-glass-icon")),a=i.find("#inner-clip").find("circle"),s=i.find("#outer-clip").find("circle"),r=i.find("#outer-scope"),l=i.find("#sights"),d=i.find("#half-circle"),c=i.find("#guage"),u=i.find("#ticks"),m=i.find("#tick-line"),v=i.find("#indicator");TweenMax.set(i,{scaleX:0,scaleY:0,scaleZ:0,force3D:!0}),$(".js-magnify").on({mouseenter:function(){$(window).on("mousewheel.magnifyingGlassWheel DOMMouseScroll.magnifyingGlassWheel",function(e){$("#sights").addClass("rotated");var i=e.originalEvent.wheelDelta,t=i/8;e.detail&&(i=-1*e.detail,t=2*i);var a=Math.min(Math.max(magnifyingGlass.currentGlassSize+=t,150),400);magnifyingGlass.currentGlassSize=a,n();var s=Math.min(Math.max(Math.abs(t/1.5),0),7),r=100+Math.min(Math.max(Math.abs(4*t),0),200),d=0;magnifyingGlass.currentGlassSize-magnifyingGlass.defaultGlassSize>=0&&(d=.45*magnifyingGlass.currentGlassSize-90),TweenMax.to(o,.5,{"-webkit-filter":"blur("+s+"px)contrast("+r+"%)",overwrite:"concurrent",ease:Power1.easeOut}),TweenMax.set(l,{rotation:d,force3D:!0})}),TweenMax.to(i,.25,{scaleX:1,scaleY:1,scaleZ:1,force3D:!0,ease:Back.easeOut}),magnifyingGlass.currentSpecimen.image=$(this),magnifyingGlass.currentSpecimen.offset=magnifyingGlass.currentSpecimen.image.offset(),magnifyingGlass.currentSpecimen.width=magnifyingGlass.currentSpecimen.image.width(),magnifyingGlass.currentSpecimen.height=magnifyingGlass.currentSpecimen.image.height(),magnifyingGlass.enlargedSpecimen.image=new Image;var e=magnifyingGlass.currentSpecimen.image[0].src;magnifyingGlass.enlargedSpecimen.image.src=e,magnifyingGlass.enlargedSpecimen.width=magnifyingGlass.enlargedSpecimen.image.width,magnifyingGlass.enlargedSpecimen.height=magnifyingGlass.enlargedSpecimen.image.height,o.css({width:magnifyingGlass.enlargedSpecimen.width+"px",height:magnifyingGlass.enlargedSpecimen.height+"px",backgroundImage:"url("+e+")"}),i.addClass("magnifying-glass-reveal")},mousemove:function(n){magnifyingGlass.isVisible||(i.addClass("magnifying-glass-reveal"),magnifyingGlass.isVisible=!0),e(n.pageX,n.pageY)},mouseleave:function(e){$(window).off("mousewheel.magnifyingGlassWheel DOMMouseScroll.magnifyingGlassWheel"),i.removeClass("magnifying-glass-reveal"),TweenMax.to(i,.25,{scaleX:0,scaleY:0,scaleZ:0,force3D:!0,ease:Back.easeIn}),magnifyingGlass.currentGlassSize=magnifyingGlass.defaultGlassSize,n()}})}},dynamicImageLoad={checkAndReplace:function(e){e.each(function(e){var n,i,o,t,a,s;n=$(this),"none"!==$(this).css("background-image")?(i=function(e){n.css("background-image",e)},o=$(this).css("background-image")):(i=function(e){n.attr("src",e)},o=$(this).attr("high-res-src")),t=o.lastIndexOf("/"),a=o.lastIndexOf("."),window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5) and (min-resolution: 144dpi)").matches?i(o):(s=o.slice(0,t)+"/low-res"+o.slice(t,a)+"-low-res"+o.slice(a,o.length),i(s))})},init:function(){dynamicImageLoad.checkAndReplace($("img, .slide, .nav-progress-indicator, .scroll-teeth"))}};$(document).ready(function(e){dynamicImageLoad.init()}),$(window).load(function(e){slider.init(),modal.init(),uiActiveStates.init(),tooltips.init(),magnifyingGlass.init()});