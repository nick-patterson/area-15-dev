function Area15Slider(e){var n,o=this;this.index=1,n={name:"Area 15 Slider",slide:$(".slide"),getNextPosition:function(){return $(o.slide[o.index-1]).position()},getCurrentSlide:function(){return $(o.slide[o.index-1])},container:$(".slider-container"),navControl:$(".nav-control"),hasProgress:!1,slideTime:1.25},$.extend(!0,n,e),this.name=n.name,this.slide=n.slide,this.current=$(o.slide[0]),this.slides=n.slide.length,this.container=n.container,this.navControl=n.navControl,this.slideTime=n.slideTime,n.hasProgress&&(o.progress={percentage:0,updateProgress:function(){$(".nav-progress-number").html(slider.progress.percentage+"%")}}),this.endpointReset=function(){TweenMax.to(o.container,.35,{x:0,ease:Power1.easeOut})},this.init=function(){this.moveSlide()},this.moveSlide=function(){o.navControl.on("click",function(e){var i,t,a,s,r,l=o.container;if(n.hasProgress&&(a=o.progress.percentage,s=$(".nav-progress-indicator-container"),r=$(".nav-progress-indicator")),$(this).hasClass("nav-previous")){if(1==o.index)return TweenMax.to(l,.35,{x:"+=75px",ease:Power2.easeIn,onComplete:o.endpointReset});o.index=o.index-1,i=n.getNextPosition(),t=1*i.left,n.hasProgress&&(a=(o.index-1)/(o.slides-1)*100)}else{if(o.index==o.slides)return TweenMax.to(l,.35,{x:"-=75px",ease:Power2.easeIn,onComplete:o.endpointReset});o.index=o.index+1,i=n.getNextPosition(),t=1*i.left,n.hasProgress&&(a=(o.index-1)/(o.slides-1)*100)}n.hasProgress&&TweenMax.to(s,1.1,{x:a+"%",ease:Back.easeOut.config(1)}),o.current=n.getCurrentSlide(),TweenMax.to(l,o.slideTime,{scrollTo:{x:t},ease:Power1.easeOut,force3D:!0,immediateRender:!0}),$(window).resize(function(e){i=n.getNextPosition(),t=1*i.left,TweenMax.set(l,{scrollTo:{x:t},ease:Power1.easeOut})})})},this.loadNextScene=""}function FifteenFourVideoPlayer(e){var n,o=this;n={name:"Area 15 Video Player",container:$(".MMVP-video")},$.extend(!0,n,e),this.name=n.name,this.container=n.container,this.video="",this.isUserActive="",this.init=function(){o.container.find("video").removeAttr("controls"),o.video=modal.current.find("video")[0],o.isUserActive=!0,o.playPause.init(),o.progress.init(),o.volume.init(),o.contextMenu(),o.autoHideControls.init(),o.keyboardShortcuts.init(),(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)&&o.fullscreen.init()},this.playPause={playVideo:"",pauseVideo:"",init:function(){o.container.find(".MMVP-video-controls-play-pause").on("click",function(){o.video.paused?o.video.play():o.video.pause()}),modal.videoPlayer.playPause.playVideo=function(){o.container.find(".MMVP-video-controls-play-pause").addClass("MMVP-play-controls-play-pause-pause-state"),o.autoHideControls.changeUserActivity(),o.autoHideControls.setActivityCheck()},modal.videoPlayer.playPause.pauseVideo=function(){o.container.find(".MMVP-video-controls-play-pause").removeClass("MMVP-play-controls-play-pause-pause-state"),window.clearInterval(o.autoHideControls.activityCheck),window.clearTimeout(o.autoHideControls.inactivityTimeout),o.container.find(".modal-video-inner-container").removeClass("MMVP-inactive")},o.video.addEventListener("play",o.playPause.playVideo,!1),o.video.addEventListener("pause",o.playPause.pauseVideo,!1)}},this.progress={updateProgressIndicator:"",updateProgressBar:"",updateProgress:"",init:function(){function e(e){0>e?e=0:e>100&&(e=100);var n=modal.videoPlayer.video.duration*(e/100);o.video.currentTime=n,o.progress.updateProgress()}var n=o.video.duration;Number.prototype.toHHMMSS=function(){var e,n=this,o=Math.floor(n/3600),i=Math.floor((n-3600*o)/60),t=Math.floor(n-3600*o-60*i);return 10>o&&(o="0"+o),10>i&&(i="0"+i),10>t&&(t="0"+t),e=o>0?o+":"+i+":"+t:i+":"+t},o.progress.updateProgressIndicator=function(){o.container.find(".MMVP-video-progress-indicator").html('<span class="MMVP-video-current-time">'+modal.videoPlayer.video.currentTime.toHHMMSS()+"</span> / "+n.toHHMMSS())},o.progress.updateProgressBar=function(){var e=o.video.currentTime/n*100;e>100?e=100:0>e&&(e=0),o.container.find(".MMVP-video-progress-bar").css("width",e+"%")},o.progress.updateProgress=function(){o.progress.updateProgressIndicator(),o.progress.updateProgressBar()},o.video.addEventListener("timeupdate",o.progress.updateProgress,!1),o.container.find(".MMVP-video-progress-bar-interaction").on("mousedown",function(n){var i=o.container.find(".MMVP-video-progress-bar-container").offset(),t=o.container.find(".MMVP-video-progress-bar-container").width(),a=(n.pageX-i.left)/t*100;e(a)}),o.container.find(".MMVP-video-progress-grabber-interaction").on("mousedown",function(n){n.stopPropagation(),n.preventDefault();var i=!0;o.video.paused||(o.video.pause(),i=!1),o.container.find(".MMVP-video-progress-bar").css("transition","0s");var t=o.container.find(".MMVP-video-progress-bar-container").offset(),a=n.pageX-t.left,s=o.container.find(".MMVP-video-progress-bar-container").width(),r=a/s*100;e(r),$(window).on("mousemove",function(n){n.preventDefault(),a=n.pageX-t.left,r=a/s*100,e(r)}),$(window).on("mouseup",function(){$(window).off("mousemove"),o.container.find(".MMVP-video-progress-bar").css("transition",""),i||o.video.play()})}),o.progress.updateProgress()}},this.volume={checkVolume:function(e){var n=o.container.find(".MMVP-video-controls-volume");return e>0?(e>100&&(e=100),o.video.muted&&(o.video.muted=!1,n.removeClass("MMVP-video-controls-volume-muted")),e>=66&&n.removeClass("MMVP-video-controls-volume-muted MMVP-video-controls-volume-quiet MMVP-video-controls-volume-normal"),e>=33&&66>e&&!n.hasClass("MMVP-video-controls-volume-normal")&&(n.removeClass("MMVP-video-controls-volume-muted MMVP-video-controls-volume-quiet MMVP-video-controls-volume-normal"),n.addClass("MMVP-video-controls-volume-normal")),33>e&&e>0&&!n.hasClass("MMVP-video-controls-volume-quiet")&&(n.removeClass("MMVP-video-controls-volume-muted MMVP-video-controls-volume-normal"),n.addClass("MMVP-video-controls-volume-quiet"))):0>=e&&(e=0,o.video.muted=!0,n.addClass("MMVP-video-controls-volume-muted")),e},changeVolumeSlider:function(e){var n=o.container.find(".MMVP-volume-slider-container").height(),i=(100-e)/100*n,t=o.volume.checkVolume(e);o.container.find(".MMVP-volume-slider-grabber-interaction").css("top",i),o.video.volume=t/100},init:function(){function e(){$(window).on("mousemove.volumeMousemove",function(e){e.preventDefault();var n=o.container.find(".MMVP-volume-slider-container").offset(),i=e.pageY-n.top,t=o.container.find(".MMVP-volume-slider-container").height();if(i>-1&&t>i){var a=Math.floor(99-i/t*100);o.volume.changeVolumeSlider(a)}}),$(window).on("mouseup.volumeMouseup",function(){$(window).off("mousemove.volumeMousemove"),$(window).off("mouseup.volumeMouseup")})}o.container.find(".MMVP-video-controls-volume").on("mousedown",function(){var e=o.video.volume;o.video.muted?o.video.muted&&0===o.video.volume?o.volume.changeVolumeSlider(50):(o.volume.checkVolume(100*e),o.video.volume=e):o.volume.checkVolume(0)}),o.container.find(".MMVP-volume-slider-box").on("mousedown",function(n){n.preventDefault();var i=o.container.find(".MMVP-volume-slider-container").offset(),t=n.pageY-i.top,a=o.container.find(".MMVP-volume-slider-container").height();if(t>-1&&a>t){var s=Math.floor(99-t/a*100);o.volume.changeVolumeSlider(s,!1)}else-1>=t?o.volume.changeVolumeSlider(100):t>=a&&o.volume.changeVolumeSlider(0);e()}),o.container.find(".MMVP-video-controls").on({mouseenter:function(e){window.clearInterval(o.autoHideControls.activityCheck),window.clearTimeout(o.autoHideControls.inactivityTimeout)},mousemove:function(e){o.autoHideControls.inactivityTimeout&&(window.clearInterval(o.autoHideControls.activityCheck),window.clearTimeout(o.autoHideControls.inactivityTimeout),o.autoHideControls.inactivityTimeout=!1)},mouseleave:function(e){o.video.paused||o.autoHideControls.setActivityCheck()}})}},this.fullscreen={fullscreenChange:"",init:function(){var e=o.container.find(".modal-video-inner-container")[0];o.container.find(".MMVP-video-controls-fullscreen-toggle").on("click",function(){null===document.fullscreenElement||null===document.webkitFullscreenElement||null===document.mozFullScreenElement||null===document.msFullscreenElement?e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen():document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}),o.fullscreen.fullscreenChange=function(){null===document.fullscreenElement||null===document.webkitFullscreenElement||null===document.mozFullScreenElement||null===document.msFullscreenElement?o.container.find(".MMVP-video-controls-fullscreen-toggle").removeClass("MMVP-fullscreen-toggle-fullscreen-state"):o.container.find(".MMVP-video-controls-fullscreen-toggle").addClass("MMVP-fullscreen-toggle-fullscreen-state")},document.addEventListener("fullscreenchange",o.fullscreen.fullscreenChange),document.addEventListener("webkitfullscreenchange",o.fullscreen.fullscreenChange),document.addEventListener("mozfullscreenchange",o.fullscreen.fullscreenChange),document.addEventListener("MSFullscreenChange",o.fullscreen.fullscreenChange)}},this.contextMenu=function(){var e=o.video;e.addEventListener("contextmenu",function(e){e.preventDefault()},!1)},this.autoHideControls={userActivity:"",changeUserActivity:"",activityCheck:"",inactivityTimeout:"",setActivityCheck:function(){var e=o.container.find(".modal-video-inner-container");o.autoHideControls.activityCheck=window.setInterval(function(){o.autoHideControls.userActivity&&(o.autoHideControls.userActivity=!1,o.isUserActive||(o.isUserActive=!0,e.removeClass("MMVP-inactive")),o.autoHideControls.inactivityTimeout&&window.clearTimeout(o.autoHideControls.inactivityTimeout),o.autoHideControls.inactivityTimeout=window.setTimeout(function(){o.autoHideControls.userActivity||(o.isUserActive=!1,e.addClass("MMVP-inactive"))},5e3))},250)},init:function(){o.autoHideControls.changeUserActivity=function(){o.autoHideControls.userActivity||(o.autoHideControls.userActivity=!0)},o.video.addEventListener("mousemove",o.autoHideControls.changeUserActivity)}},this.keyboardShortcuts={processKeyboardShortcuts:function(e){switch(e.preventDefault(),e.which){case 32:o.video.paused?o.video.play():o.video.pause();break;case 77:o.video.muted?(o.video.muted=!1,o.container.find(".MMVP-video-controls-volume").removeClass("MMVP-video-controls-volume-muted")):(o.video.muted=!0,o.container.find(".MMVP-video-controls-volume").addClass("MMVP-video-controls-volume-muted"))}o.autoHideControls.changeUserActivity()},init:function(){$(document).on("keydown",o.keyboardShortcuts.processKeyboardShortcuts)}},this.reset=function(){o.video&&(o.video.pause(),o.container.find(".MMVP-video-progress-grabber-interaction").off("mousedown"),o.container.find(".MMVP-video-progress-bar-interaction").off("mousedown"),o.container.find(".MMVP-volume-slider-box").off("mousedown"),o.container.find(".MMVP-video-controls").off("mouseenter mousemove mouseleave"),o.container.find(".MMVP-video-controls-volume").off("click"),o.container.find(".MMVP-video-controls-play-pause").off("click"),o.container.find(".MMVP-video-controls-fullscreen-toggle").off("click"),o.video.removeEventListener("play",o.playPause.playVideo),o.video.removeEventListener("pause",o.playPause.pauseVideo),o.video.removeEventListener("timeupdate",o.progress.updateProgress),o.video.removeEventListener("mousemove",o.autoHideControls.timer),window.clearInterval(o.autoHideControls.activityCheck),document.removeEventListener("fullscreenchange",o.fullscreen.fullscreenChange),document.removeEventListener("webkitfullscreenchange",o.fullscreen.fullscreenChange),document.removeEventListener("mozfullscreenchange",o.fullscreen.fullscreenChange),document.removeEventListener("MSFullscreenChange",o.fullscreen.fullscreenChange),$(document).off("keydown",o.keyboardShortcuts.processKeyboardShortcuts))}}var vaultVideoController={viewIndex:1,currentVideo:$(".main-vault-video"),init:function(){function e(e){return"previous"===e?0===vaultVideoController.viewIndex?2:vaultVideoController.viewIndex-1:2===vaultVideoController.viewIndex?0:vaultVideoController.viewIndex+1}console.log("boom"),$(".vault-nav-control").on("click",function(n){$(this).hasClass("nav-previous")?vaultVideoController.changeView(e("previous")):vaultVideoController.changeView(e("next"))}),$(window).on("dblclick",function(n){console.log("dblclick"),vaultVideoController.changeView(e("next"))})},changeView:function(e){var n=$("#main-vault-video-container"),o=vaultVideoController.currentVideo[0];vaultVideoController.currentVideo.removeClass("main-vault-video-active"),o.currentTime=0,vaultVideoController.currentVideo=n.find(".main-vault-video[data-start="+vaultVideoController.viewIndex+"][data-end="+e+"]"),o=vaultVideoController.currentVideo[0],vaultVideoController.currentVideo.addClass("main-vault-video-active"),o.play()}},slider=new Area15Slider({name:"Main Slider",hasProgress:!0}),modal={current:"",init:function(){modal.loadModels.init();var e=new Area15Slider({name:"Modal Slider",navControl:$(".modal-nav-control"),slideTime:.8});modal.slider=e,modal.slider.init(),$(".js-modal").on("click",function(n){if(n.preventDefault(),modal.current=$($(this).data("target")),e.slide=modal.current.find(".modal-slide"),e.slides=e.slide.length,e.current=$(e.slide[e.index-1]),e.container=modal.current.find(".modal-slide-container"),e.navControl=modal.current.find(".modal-nav-control"),modal.slider.slides>1&&modal.current.find(".modal-nav-control").css("display","inline"),modal.current.find(".MMVP-video").length){var o=new FifteenFourVideoPlayer({name:"Modal Video Player"});modal.videoPlayer=o,modal.videoPlayer.container=modal.current.find(".MMVP-video"),modal.videoPlayer.init()}modal.current.find(".modal-model-container").length&&(modal.slider.loadNextScene={scene:"",controls:"",currentModelPath:"",currentModelCameraPosition:"",currentModelPosition:"",init:function(){function e(){function e(e){for(var n in e)e[n]=Number(e[n]);return e}function o(){modal.slider.canvas.find(".webgl-rendering-indicator").removeClass("loading-in-progress"),modal.slider.canvas.find(".webgl-rendering-indicator").addClass("loading-done")}var s="",r=e(modal.slider.loadNextScene.currentModelPosition),l=e(modal.slider.loadNextScene.currentModelCameraPosition);$(".modal-model-container").each(function(e){return $(this).is(modal.slider.canvas)?void(s=e):void 0});var d=modal.loadModels.models[s].mesh,u=modal.loadModels.models[s].edges;t.add(d),t.add(u),d.position.set(r[0],r[1],r[2]),u.position.set(r[0],r[1],r[2]),v=(new THREE.Box3).setFromObject(d);var m=Math.max(v.max.x,v.max.y,v.max.z);c.minDistance=1.25*m,c.maxDistance=5*m,a.position.z=3*m,a.position.set(l[0],l[1],l[2]),a.lookAt(new THREE.Vector3(r[0],r[1],r[2])),TweenMax.to(i,1.5,{autoAlpha:1,ease:Power1.easeIn,delay:2,onComplete:o}),n()}function n(){t=modal.slider.loadNextScene.scene,c=modal.slider.loadNextScene.controls,null!==t&&(c.update(),o())}function o(){u.render(modal.slider.loadNextScene.scene,a)}modal.slider.canvas=modal.slider.current.find(".modal-model-container"),modal.slider.loadNextScene.currentModelPath=modal.slider.canvas.data("model-path"),modal.slider.loadNextScene.currentModelCameraPosition=modal.slider.canvas.data("camera-position").split(" "),modal.slider.loadNextScene.currentModelPosition=modal.slider.canvas.data("model-position").split(" ");var i,t,a,s,r,l,d,c,u,m,v;i=modal.slider.canvas.find("canvas"),modal.slider.loadNextScene.scene=new THREE.Scene,t=modal.slider.loadNextScene.scene,a=new THREE.PerspectiveCamera(45,modal.slider.canvas.width()/modal.slider.canvas.height(),.1,1e4),s=new THREE.HemisphereLight(16777147,526368,.5),t.add(s),r=new THREE.SpotLight(15792383),r.position.set(5,5,0),r.castShadow=!0,r.shadowMapWidth=1024,r.shadowMapHeight=1024,r.shadowCameraNear=500,r.shadowCameraFar=4e3,r.shadowCameraFov=30,r.intensity=5,t.add(r),l=r.clone(),l.position.set(0,6,2),l.intensity=1,t.add(l),d=r.clone(),d.position.set(-8,-2,-4),d.color.setHex(1447718),d.intensity=5,t.add(d),modal.slider.loadNextScene.controls=new THREE.OrbitControls(a,modal.slider.canvas[0]),c=modal.slider.loadNextScene.controls,c.addEventListener("change",o),m=new THREE.JSONLoader,u=new THREE.WebGLRenderer({alpha:!0,canvas:i[0],antialias:!0}),u.setSize(modal.slider.canvas.width(),modal.slider.canvas.height()),e(),$(window).on("resize.webGLResize",function(e){var n=modal.slider.canvas.width(),i=modal.slider.canvas.height();a.aspect=n/i,a.updateProjectionMatrix(),u.setSize(n,i),o()})}},e.loadNextScene.init&&modal.current.find(".modal-model-container").length&&e.loadNextScene.init()),modal.slider.reset=function(){modal.slider.loadNextScene&&(modal.slider.loadNextScene.controls.dispose(),modal.slider.loadNextScene.controls=null,modal.slider.loadNextScene.scene=null,$(window).off("resize.webGLResize")),modal.slider.index=1,modal.slider.current="",modal.slider.slides="",TweenMax.set(modal.current.find(".modal-slide-container"),{scrollTo:{x:0}})},modal.current.addClass("is-staged is-visible")}),$(".modal__box").on("click",function(e){e.stopPropagation()}),$(".js-close-modal").on("click",function(e){e.preventDefault(),modal.closeModal()})},closeModal:function(){modal.current.removeClass("is-visible"),window.setTimeout(function(){modal.current.removeClass("is-staged"),modal.slider.reset(),modal.videoPlayer&&modal.videoPlayer.reset()},250)},loadModels:{canvases:[],loaders:[],models:[],counter:0,init:function(){$(".modal-model-container").each(function(e){modal.loadModels.canvases[e]=$(this),modal.loadModels.loaders[e]=new THREE.JSONLoader;var n=$(this).data("model-path"),o=modal.loadModels.loaders[e],i=function(n,o){modal.loadModels.models[e]={};var i=new THREE.Mesh(n,new THREE.MeshPhongMaterial({color:"#101010",side:THREE.DoubleSide,emissive:"#000000",specular:"#111111",shininess:20,shading:THREE.SmoothShading,transparent:!0,opacity:.8})),t=new THREE.EdgesHelper(i,"rgb(200,200,200)");t.material.transparency=!0,t.material.opacity=.8,t.material.linewidth=.15,i.position.set(0,-1,0),i.scale.set(.1,.1,.1),modal.loadModels.models[e].mesh=i,modal.loadModels.models[e].edges=t};o.load(n,i),modal.loadModels.counter=modal.loadModels.counter++,modal.loadModels.counter==$(".modal-model-container").length})}}},uiActiveStates={current:"",activeState:"",rotateRight:"",flicker:$(".js-ui-flicker"),init:function(){$(".js-ui-interactive").hover(function(){uiActiveStates.current=$(this),uiActiveStates.activeState=uiActiveStates.current.find(".js-ui-active"),uiActiveStates.rotateRight=uiActiveStates.current.find(".js-ui-rotate-right"),TweenMax.to(uiActiveStates.activeState,.65,{autoAlpha:1}),TweenMax.to(uiActiveStates.rotateRight,.65,{rotation:45,ease:Power1.easeOut,force3D:!0})},function(){TweenMax.to(uiActiveStates.activeState,.65,{autoAlpha:0}),TweenMax.to(uiActiveStates.rotateRight,.65,{rotation:0,ease:Power1.easeOut,force3D:!0})}),uiActiveStates.animateFlicker()},animateFlicker:function(){uiActiveStates.flicker.each(function(e){var n=$(this),o=function(){var e=4*Math.random();TweenMax.to(n,e,{autoAlpha:1,yoyo:!0,repeat:1,onComplete:o})};o()})}},loadingScreen={init:function(){TweenMax.to(".loading-indicator, .area-15-logo",2,{opacity:1,onComplete:loadingScreen.runAnimationsOnce,delay:.5})},runAnimationsOnce:function(){TweenMax.to($(".slider-container"),1,{scrollTo:{x:3e3},force3D:!0,yoyo:!0,repeat:1,onComplete:loadingScreen.clearScreen})},clearScreen:function(){var e=$(".loading-screen");e.removeClass("is-visible"),window.setTimeout(function(){e.removeClass("is-staged"),e.addClass("is-hidden")},250)}},tooltips={current:"",title:"",init:function(){var e=$(".tooltip");$(".js-tooltip").on({mouseenter:function(n){tooltips.current=$(this),tooltips.title=tooltips.current.data("title"),$(".tooltip-text").html(tooltips.title),e.addClass("tooltip-reveal")},mousemove:function(n){var o=n.pageX,i=n.pageY;TweenMax.set(e,{x:o-15,y:i-20,force3D:!0})},mouseleave:function(n){e.removeClass("tooltip-reveal")}})}},magnifyingGlass={defaultGlassSize:200,maxGlassSize:400,minGlassSize:150,currentGlassSize:200,effects:{blur:0,contrast:100},currentSpecimen:{image:"",offset:"",width:"",height:""},enlargedSpecimen:{image:"",width:"",height:""},isVisible:!1,init:function(){function e(e,n){var o=magnifyingGlass.currentSpecimen.image.offset(),a=(e-o.left)*(magnifyingGlass.enlargedSpecimen.width/magnifyingGlass.currentSpecimen.width*-1)+magnifyingGlass.maxGlassSize/2,s=(n-o.top)*(magnifyingGlass.enlargedSpecimen.height/magnifyingGlass.currentSpecimen.height*-1)+magnifyingGlass.maxGlassSize/2;TweenMax.set(i,{x:e-magnifyingGlass.maxGlassSize/2,y:n-magnifyingGlass.maxGlassSize/2,force3D:!0}),TweenMax.set(t,{backgroundPosition:a+"px "+s+"px"})}function n(){function e(){var e=0,n=-.05*o+40+"%",i=100-(-.05*o+40)+"%",t=-.11*(magnifyingGlass.currentGlassSize-magnifyingGlass.minGlassSize)+57.5+"%";0>o?e=o/-2:o>0&&(e=o>=125?50-30*magnifyingGlass.maxGlassSize/magnifyingGlass.currentGlassSize:50),TweenMax.to(u,.25,{x:e,force3D:!0,overwrite:!0}),TweenMax.to([m,v],.1,{attr:{y1:n,y2:i},overwrite:!0}),TweenMax.to(f,.1,{attr:{cy:t},overwrite:!0})}var n=magnifyingGlass.currentGlassSize/2,o=magnifyingGlass.currentGlassSize-magnifyingGlass.defaultGlassSize,i=0;o>=0&&(i=.45*magnifyingGlass.currentGlassSize-90),TweenMax.to(s,.1,{attr:{r:n},overwrite:!0}),TweenMax.to(r,.1,{attr:{r:n+2},overwrite:!0}),TweenMax.to(a,.1,{x:o/2,force3D:!0,overwrite:!0}),TweenMax.to(l,.1,{attr:{r:n+8},overwrite:!0,delay:.01}),TweenMax.to(c,.1,{scale:magnifyingGlass.currentGlassSize/magnifyingGlass.defaultGlassSize,force3D:!0,overwrite:!0,delay:.01,transformOrigin:"left center"}),TweenMax.to(g,.1,{attr:{r:n-8,delay:.01},overwrite:"concurrent"}),TweenMax.set(d,{rotation:i,force3D:!0}),e()}function o(e){function n(){TweenMax.set(t,{"-webkit-filter":"blur("+magnifyingGlass.effects.blur+"px)contrast("+magnifyingGlass.effects.contrast+"%)"})}var o={blur:Math.min(Math.max(Math.abs(e/1.5),0),7),contrast:100+Math.min(Math.max(Math.abs(8*e),0),200)};Math.abs(e)<4&&(o.blur=0,o.contrast=100),TweenMax.to(magnifyingGlass.effects,.075,{blur:o.blur,contrast:o.contrast,overwrite:!0,ease:Power1.easeInOut,onUpdate:n})}var i=$(".magnifying-glass"),t=i.find(".magnifying-glass-image"),a=(i.find(".magnifying-glass-border"),i.find(".magnifying-glass-icon")),s=i.find("#inner-clip").find("circle"),r=i.find("#outer-clip").find("circle"),l=i.find("#outer-scope"),d=i.find("#sights"),c=i.find("#half-circle"),u=i.find("#guage"),m=i.find("#ticks"),v=i.find("#tick-line"),f=i.find("#indicator"),g=i.find("#inner-scope");TweenMax.set(i,{scaleX:0,scaleY:0,scaleZ:0,force3D:!0}),$(".js-magnify").on({mouseenter:function(){$(window).on("mousewheel.magnifyingGlassWheel DOMMouseScroll.magnifyingGlassWheel",function(e){$("#sights").addClass("rotated");var i=e.originalEvent.wheelDelta,t=i/8;e.detail&&(i=-1*e.detail,t=2*i);var a=Math.min(Math.max(magnifyingGlass.currentGlassSize+=t,150),400);magnifyingGlass.currentGlassSize=a,n(),o(t)}),TweenMax.to(i,.25,{scaleX:1,scaleY:1,scaleZ:1,force3D:!0,ease:Back.easeOut}),magnifyingGlass.currentSpecimen.image=$(this),magnifyingGlass.currentSpecimen.offset=magnifyingGlass.currentSpecimen.image.offset(),magnifyingGlass.currentSpecimen.width=magnifyingGlass.currentSpecimen.image.width(),magnifyingGlass.currentSpecimen.height=magnifyingGlass.currentSpecimen.image.height(),magnifyingGlass.enlargedSpecimen.image=new Image;var e=magnifyingGlass.currentSpecimen.image[0].src;magnifyingGlass.enlargedSpecimen.image.src=e,magnifyingGlass.enlargedSpecimen.width=magnifyingGlass.enlargedSpecimen.image.width,magnifyingGlass.enlargedSpecimen.height=magnifyingGlass.enlargedSpecimen.image.height,t.css({width:magnifyingGlass.enlargedSpecimen.width+"px",height:magnifyingGlass.enlargedSpecimen.height+"px",backgroundImage:"url("+e+")"}),i.addClass("magnifying-glass-reveal")},mousemove:function(n){magnifyingGlass.isVisible||(i.addClass("magnifying-glass-reveal"),magnifyingGlass.isVisible=!0),e(n.pageX,n.pageY)},mouseleave:function(e){$(window).off("mousewheel.magnifyingGlassWheel DOMMouseScroll.magnifyingGlassWheel"),i.removeClass("magnifying-glass-reveal"),TweenMax.to(i,.25,{scaleX:0,scaleY:0,scaleZ:0,force3D:!0,ease:Back.easeIn}),magnifyingGlass.currentGlassSize=magnifyingGlass.defaultGlassSize,n()}})}},dynamicImageLoad={checkAndReplace:function(e){e.each(function(e){var n,o,i,t,a,s;n=$(this),"none"!==$(this).css("background-image")?(o=function(e){n.css("background-image",e)},i=$(this).css("background-image")):(o=function(e){n.attr("src",e)},i=$(this).attr("high-res-src")),t=i.lastIndexOf("/"),a=i.lastIndexOf("."),window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5) and (min-resolution: 144dpi)").matches?o(i):(s=i.slice(0,t)+"/low-res"+i.slice(t,a)+"-low-res"+i.slice(a,i.length),o(s))})},init:function(){dynamicImageLoad.checkAndReplace($("img, .slide, .nav-progress-indicator, .scroll-teeth"))}};$(document).ready(function(e){dynamicImageLoad.init()}),$(window).load(function(e){slider.init(),modal.init(),uiActiveStates.init(),tooltips.init(),magnifyingGlass.init(),vaultVideoController.init()});